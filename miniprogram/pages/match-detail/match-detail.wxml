<!-- match-detail.wxml -->
<view class="page">
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <text>加载中...</text>
  </view>
  
  <!-- 赛事信息卡片 -->
  <view wx:else class="match-info-card">
    <view class="match-image" bindtap="previewImage">
      <image class="match-bg" src="{{matchInfo.cover || '../../assets/home_back.png'}}" mode="aspectFill"></image>
    </view>
    <view class="match-details">
      <view class="match-title-section">
        <text class="match-title">{{matchInfo.name}}</text>
      </view>
      <view class="match-time-section">
        <text class="match-time">{{matchInfo.startTime}}</text>
        <text class="match-disclaimer">以现场为准</text>
      </view>
    </view>
  </view>
  <!-- 场馆和政策信息 -->
  <view wx:if="{{!loading}}" class="venue-policy-section-container">
    <view class="venue-policy-section">
      <view class="price-info">
        <text class="price-symbol">¥</text>
        <text class="price-number">{{skuList[0].price || 0}}</text>
        <text class="price-suffix">起</text>
      </view>
      <view class="venue-info" bindtap="onAddressTap">
        <view class="venue-name">
          <text class="venue-text">{{arenaInfo.name}}</text>
          <image class="arrow-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuNSA5TDcuNSA2TDQuNSAzIiBzdHJva2U9IiM5OTk5OTkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPg==" mode="aspectFit"></image>
        </view>
        <text class="venue-address">{{arenaInfo.venueAddress}}</text>
      </view>
      <view class="policy-list">
        <view class="policy-item">
          <image class="policy-icon" src="../../assets/no_quit.png" mode="aspectFill"></image>
          <text class="policy-text">不支持退</text>
        </view>
        <view class="policy-item">
          <image class="policy-icon" src="../../assets/shiming.png" mode="aspectFill"></image>
          <text class="policy-text">实名制购票和入场</text>
        </view>
        <view class="policy-item">
          <image class="policy-icon" src="../../assets/dianzi.png" mode="aspectFill"></image>
          <text class="policy-text">电子票</text>
        </view>
      </view>
    </view>
  </view>
  <!-- 赛事介绍 -->
  <view wx:if="{{!loading}}" class="event-intro-section">
    <text class="intro-title">赛事介绍</text>
    <view class="intro-content">
      <rich-text class="intro-detail" nodes="{{matchInfo.detail}}"></rich-text>
    </view>
  </view>
  <!-- 底部购票按钮 -->
  <view class="bottom-ticket-bar">
    <button style="width: 100%;" class="ticket-btn" bindtap="onBuyTicket">立即购票</button>
  </view>
</view>